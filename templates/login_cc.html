<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>PrimaHealth – Lead Form & Patient Queue</title>
  <style>
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background-color: #f7f9fc;
      margin: 0;
      padding: 24px;
      display: flex;
      gap: 20px;
      color: #1f2a44;
      line-height: 1.6;
    }

    .left-panel {
      flex: 1;
      min-width: 320px;
      background-color: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
      border: 1px solid #e5e7eb;
      display: flex;
      flex-direction: column;
    }

    .right-panel {
      flex: 2;
      background-color: white;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.06);
      border: 1px solid #e5e7eb;
    }

    h2 {
      margin: 0 0 16px;
      font-size: 18px;
      font-weight: 600;
      color: #1f2a44;
    }

    .queue-dropdowns {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      margin-bottom: 8px;
    }

    .queue-dropdown {
      position: relative;
      display: inline-block;
      flex-basis: 24%;
    }

    .queue-dropdown select {
      background-color: #3b82f6;
      color: white;
      border: none;
      border-radius: 6px;
      padding: 8px 16px;
      font-size: 13px;
      font-weight: 500;
      cursor: pointer;
      transition: background-color 0.2s ease;
      appearance: none;
      width: 100%;
      padding-right: 40px;
      box-sizing: border-box;
    }

    .queue-dropdown select:hover {
      background-color: #2563eb;
    }

    .queue-dropdown select:focus {
      outline: none;
      background-color: #1e40af;
    }

    .queue-dropdown::after {
      content: '▼';
      position: absolute;
      right: 10px;
      top: 50%;
      transform: translateY(-50%);
      color: white;
      font-size: 12px;
      pointer-events: none;
    }

    .search-bar {
      margin-bottom: 20px;
    }

    .search-bar input {
      width: 100%;
      max-width: 500px;
      padding: 10px 14px;
      font-size: 13px;
      border: 1px solid #d1d5db;
      border-radius: 6px;
      transition: border-color 0.2s ease, box-shadow 0.2s ease;
      box-sizing: border-box;
    }

    .search-bar input::placeholder {
      font-size: 13px;
      color: #6b7280;
      opacity: 1;
    }

    .search-bar input:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0;
      background-color: white;
      border-radius: 8px;
      overflow: hidden;
    }

    th, td {
      padding: 12px 14px;
      border-bottom: 1px solid #e5e7eb;
      font-size: 13px;
      text-align: left;
    }

    th {
      background-color: #f9fafb;
      font-weight: 600;
      color: #374151;
    }

    td {
      color: #4b5563;
    }

    tr:last-child td {
      border-bottom: none;
    }

    tr:hover {
      background-color: #f8fafc;
      cursor: pointer;
    }

    .ph-id:hover {
      text-decoration: underline;
      color: #2563eb;
    }

    .form-title {
      font-weight: 600;
      margin-bottom: 20px;
      font-size: 16px;
      color: #1f2a44;
    }

    form {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    form label {
      margin: 8px 0 4px;
      font-size: 13px;
      font-weight: 500;
      color: #374151;
    }

    form input[type="text"],
    form input[type="email"],
    form input[type="date"] {
      width: 100%;
      padding: 9px 12px;
      border: 1px solid #d1d5db;
      border-radius: 6px;
      font-size: 13px;
      transition: border-color 0.2s ease, box-shadow 0.2s ease;
      box-sizing: border-box;
    }

    form input[type="text"]:focus,
    form input[type="email"]:focus,
    form input[type="date"]:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    form input[type="checkbox"] {
      margin-right: 6px;
      accent-color: #3b82f6;
    }

    .checkbox-label {
      display: flex;
      align-items: center;
      margin-top: 8px;
      font-size: 13px;
      color: #4b5563;
    }

    .submit-btn {
      margin-top: 16px;
      background-color: #3b82f6;
      color: white;
      padding: 10px 18px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 13px;
      font-weight: 500;
      transition: background-color 0.2s ease, transform 0.1s ease;
      align-self: flex-start;
    }

    .submit-btn:hover {
      background-color: #2563eb;
      transform: translateY(-1px);
    }

    .submit-btn:active {
      transform: translateY(0);
    }

    .action-checkbox {
      accent-color: #3b82f6;
    }
  </style>
</head>
<body>
  <div class="left-panel">
    <div class="form-title">Lead Generation Form</div>
    <form>
      <label>Your First Name *</label>
      <input type="text" required />

      <label>Your Last Name *</label>
      <input type="text" required />

      <label>Child First Name *</label>
      <input type="text" required />

      <div class="checkbox-label">
        <input type="checkbox" id="diffSurname" />
        <label for="diffSurname">Child has a different Surname?</label>
      </div>

      <label>Child Date of Birth</label>
      <input type="date" />

      <label>Contact Number</label>
      <input type="text" placeholder="+353" />

      <label>Email *</label>
      <input type="email" placeholder="you@example.com" required />

      <div class="checkbox-label">
        <input type="checkbox" id="referredByGP" />
        <label for="referredByGP">Referred by GP?</label>
      </div>

      <button class="submit-btn" type="submit">Next</button>
    </form>
  </div>

  <div class="right-panel">
    <h2>Queues – Quick Access</h2>
    <div class="queue-dropdowns">
      <div class="queue-dropdown">
        <select onchange="filterQueue(this, this.value)">
          <option value="" disabled selected>Select High priority Queue</option>
          <option value="G2_Consent_Pending">G2_Consent_Pending</option>
          <option value="Nearing_18_Under_Medication">Nearing 18 & Under Medication</option>
          <option value="GP_Referral_No_SC_7_Days">GP referral received, No SC since 7 days</option>
        </select>
      </div>
      <div class="queue-dropdown">
        <select onchange="filterQueue(this, this.value)">
          <option value="" disabled selected>Select Red Flag Filter</option>
          <option value="Red_Flag_CAMHS_Concern">Red Flag – CAMHS Concern</option>
          <option value="Red_Flag_Eating_Disorder">Red Flag – Eating Disorder Concern</option>
          <option value="Red_Flag_Unable_Attend">Red Flag – Unable to Attend In-Person</option>
          <option value="Red_Flag_Non_Verbal">Red Flag – Non-Verbal / Child Unable to Speak</option>
          <option value="Red_Flag_Suicide_Attempt">Red Flag – Suicide Attempt Within 6 Months</option>
          <option value="Red_Flag_AP_Risk">Red Flag – AP Identified Risk</option>
        </select>
      </div>
      <div class="queue-dropdown">
        <select onchange="filterQueue(this, this.value)">
          <option value="" disabled selected>Select No Contact Filter</option>
          <option value="No_Contact_7_Days">No SC, No GP referral since 7 days</option>
          <option value="No_Contact_14_Days">No SC, No GP referral since 14 days</option>
          <option value="No_Contact_21_Days">No SC, No GP referral since 21 days – Auto Close</option>
        </select>
      </div>
      <div class="queue-dropdown">
        <select onchange="filterQueue(this, this.value)">
          <option value="" disabled selected>Select Document & Intake Filter</option>
          <option value="Incomplete_Case">Incomplete Case – Missing Documents</option>
        </select>
      </div>
      <div class="queue-dropdown">
        <select onchange="filterQueue(this, this.value)">
          <option value="" disabled selected>Select Care Manager Approved Cases</option>
          <option value="Care Manager_Approved_7_Days">Last 7 Days</option>
          <option value="Care Manager_Approved_30_Days">Last 30 Days</option>
          <option value="Care Manager_Approved_This_Year">Last one Year</option>
        </select>
      </div>
      <div class="queue-dropdown">
        <select onchange="filterQueue(this, this.value)">
          <option value="" disabled selected>Select Care Manager Rejected Cases</option>
          <option value="Care Manager_Rejected_7_Days">Last 7 Days</option>
          <option value="Care Manager_Rejected_30_Days">Last 30 Days</option>
          <option value="Care Manager_Rejected_This_Year">Last one Year</option>
        </select>
      </div>
      <div class="queue-dropdown">
        <select onchange="filterQueue(this, this.value)">
          <option value="" disabled selected>Select Care Manager Decision - On Hold</option>
          <option value="Care Manager_On_Hold_7_Days">Last 7 Days</option>
          <option value="Care Manager_On_Hold_30_Days">Last 30 Days</option>
          <option value="Care Manager_On_Hold_This_Year">Last one Year</option>
        </select>
      </div>
    </div>

    <div class="search-bar">
      <input type="text" id="searchInput" placeholder="Search by Guardian Name, Mobile Number, or PrimaHealth ID" onkeyup="searchPatient()" />
    </div>

    <table id="patientTable">
      <thead>
        <tr>
          <th>Name</th>
          <th>Contact</th>
          <th>PrimaHealth ID</th>
          <th>Email</th>
          <th>Created Date</th>
          <th>Action Taken</th>
        </tr>
      </thead>
      <tbody>
        <tr data-queue="Recently_Viewed" data-action-taken="false">
          <td>John Smith</td>
          <td>+353 123456789</td>
          <td><span class="ph-id" onclick="goToCC('1')" style="cursor: pointer; color: #3b82f6;">PH1234</span></td>
          <td>john.smith@example.com</td>
          <td>22/07/2025, 11:05</td>
          <td><input type="checkbox" class="action-checkbox" onchange="updateActionTaken(this, '1')"></td>
        </tr>
        <tr data-queue="Recently_Viewed" data-action-taken="false">
          <td>Alice Brown</td>
          <td>+353 987654321</td>
          <td><span class="ph-id" onclick="goToCC('2')" style="cursor: pointer; color: #3b82f6;">PH1235</span></td>
          <td>alice.brown@example.com</td>
          <td>22/07/2025, 10:47</td>
          <td><input type="checkbox" class="action-checkbox" onchange="updateActionTaken(this, '2')"></td>
        </tr>
        <tr data-queue="Recently_Viewed" data-action-taken="false">
          <td>Mark Johnson</td>
          <td>+353 456789123</td>
          <td><span class="ph-id" onclick="goToCC('3')" style="cursor: pointer; color: #3b82f6;">PH1236</span></td>
          <td>mark.johnson@example.com</td>
          <td>22/07/2025, 10:30</td>
          <td><input type="checkbox" class="action-checkbox" onchange="updateActionTaken(this, '3')"></td>
        </tr>
        <tr data-queue="Recently_Viewed" data-action-taken="false">
          <td>Emma Wilson</td>
          <td>+353 234567890</td>
          <td><span class="ph-id" onclick="goToCC('4')" style="cursor: pointer; color: #3b82f6;">PH1237</span></td>
          <td>emma.wilson@example.com</td>
          <td>22/07/2025, 09:15</td>
          <td><input type="checkbox" class="action-checkbox" onchange="updateActionTaken(this, '4')"></td>
        </tr>
        <tr data-queue="Recently_Viewed" data-action-taken="false">
          <td>Liam Davis</td>
          <td>+353 345678901</td>
          <td><span class="ph-id" onclick="goToCC('5')" style="cursor: pointer; color: #3b82f6;">PH1238</span></td>
          <td>liam.davis@example.com</td>
          <td>22/07/2025, 08:50</td>
          <td><input type="checkbox" class="action-checkbox" onchange="updateActionTaken(this, '5')"></td>
        </tr>
        <tr data-queue="Recently_Viewed" data-action-taken="false">
          <td>Sophia Clark</td>
          <td>+353 567890123</td>
          <td><span class="ph-id" onclick="goToCC('6')" style="cursor: pointer; color: #3b82f6;">PH1239</span></td>
          <td>sophia.clark@example.com</td>
          <td>22/07/2025, 08:20</td>
          <td><input type="checkbox" class="action-checkbox" onchange="updateActionTaken(this, '6')"></td>
        </tr>
        <tr data-queue="Recently_Viewed" data-action-taken="false">
          <td>James Lewis</td>
          <td>+353 678901234</td>
          <td><span class="ph-id" onclick="goToCC('7')" style="cursor: pointer; color: #3b82f6;">PH1240</span></td>
          <td>james.lewis@example.com</td>
          <td>22/07/2025, 07:45</td>
          <td><input type="checkbox" class="action-checkbox" onchange="updateActionTaken(this, '7')"></td>
        </tr>
        <tr data-queue="Recently_Viewed" data-action-taken="false">
          <td>Olivia Walker</td>
          <td>+353 789012345</td>
          <td><span class="ph-id" onclick="goToCC('8')" style="cursor: pointer; color: #3b82f6;">PH1241</span></td>
          <td>olivia.walker@example.com</td>
          <td>22/07/2025, 07:10</td>
          <td><input type="checkbox" class="action-checkbox" onchange="updateActionTaken(this, '8')"></td>
        </tr>
        <tr data-queue="Recently_Viewed" data-action-taken="false">
          <td>Noah Harris</td>
          <td>+353 890123456</td>
          <td><span class="ph-id" onclick="goToCC('9')" style="cursor: pointer; color: #3b82f6;">PH1242</span></td>
          <td>noah.harris@example.com</td>
          <td>22/07/2025, 06:30</td>
          <td><input type="checkbox" class="action-checkbox" onchange="updateActionTaken(this, '9')"></td>
        </tr>
        <tr data-queue="Recently_Viewed" data-action-taken="false">
          <td>Isabella Young</td>
          <td>+353 901234567</td>
          <td><span class="ph-id" onclick="goToCC('10')" style="cursor: pointer; color: #3b82f6;">PH1243</span></td>
          <td>isabella.young@example.com</td>
          <td>22/07/2025, 06:00</td>
          <td><input type="checkbox" class="action-checkbox" onchange="updateActionTaken(this, '10')"></td>
        </tr>
        <tr data-queue="SC_Not_Booked_7Days" data-action-taken="false">
          <td>Ethan Moore</td>
          <td>+353 112233445</td>
          <td><span class="ph-id" onclick="goToCC('11')" style="cursor: pointer; color: #3b82f6;">PH1244</span></td>
          <td>ethan.moore@example.com</td>
          <td>21/07/2025, 14:20</td>
          <td><input type="checkbox" class="action-checkbox" onchange="updateActionTaken(this, '11')"></td>
        </tr>
        <tr data-queue="G2_Consent_Pending" data-action-taken="false">
          <td>Ava Taylor</td>
          <td>+353 223344556</td>
          <td><span class="ph-id" onclick="goToCC('12')" style="cursor: pointer; color: #3b82f6;">PH1245</span></td>
          <td>ava.taylor@example.com</td>
          <td>21/07/2025, 13:15</td>
          <td><input type="checkbox" class="action-checkbox" onchange="updateActionTaken(this, '12')"></td>
        </tr>
        <tr data-queue="Red_Flag_CAMHS_Concern" data-action-taken="false">
          <td>Lucas White</td>
          <td>+353 445566778</td>
          <td><span class="ph-id" onclick="goToCC('14')" style="cursor: pointer; color: #3b82f6;">PH1247</span></td>
          <td>lucas.white@example.com</td>
          <td>21/07/2025, 11:00</td>
          <td><input type="checkbox" class="action-checkbox" onchange="updateActionTaken(this, '14')"></td>
        </tr>
        <tr data-queue="Red_Flag_Eating_Disorder" data-action-taken="false">
          <td>Chloe Green</td>
          <td>+353 556677889</td>
          <td><span class="ph-id" onclick="goToCC('15')" style="cursor: pointer; color: #3b82f6;">PH1248</span></td>
          <td>chloe.green@example.com</td>
          <td>21/07/2025, 10:45</td>
          <td><input type="checkbox" class="action-checkbox" onchange="updateActionTaken(this, '15')"></td>
        </tr>
        <tr data-queue="No_Contact_7_Days" data-action-taken="false">
          <td>Jacob King</td>
          <td>+353 667788990</td>
          <td><span class="ph-id" onclick="goToCC('16')" style="cursor: pointer; color: #3b82f6;">PH1249</span></td>
          <td>jacob.king@example.com</td>
          <td>21/07/2025, 10:30</td>
          <td><input type="checkbox" class="action-checkbox" onchange="updateActionTaken(this, '16')"></td>
        </tr>
        <tr data-queue="Incomplete_Case" data-action-taken="false">
          <td>Harper Lee</td>
          <td>+353 778899001</td>
          <td><span class="ph-id" onclick="goToCC('17')" style="cursor: pointer; color: #3b82f6;">PH1250</span></td>
          <td>harper.lee@example.com</td>
          <td>21/07/2025, 10:15</td>
          <td><input type="checkbox" class="action-checkbox" onchange="updateActionTaken(this, '17')"></td>
        </tr>
        <tr data-queue="Care Manager_Approved_7_Days" data-action-taken="false">
          <td>Ella Adams</td>
          <td>+353 889900112</td>
          <td><span class="ph-id" onclick="goToCC('18')" style="cursor: pointer; color: #3b82f6;">PH1251</span></td>
          <td>ella.adams@example.com</td>
          <td>21/07/2025, 10:00</td>
          <td><input type="checkbox" class="action-checkbox" onchange="updateActionTaken(this, '18')"></td>
        </tr>
        <tr data-queue="Care Manager_Rejected_7_Days" data-action-taken="false">
          <td>Logan Baker</td>
          <td>+353 990011223</td>
          <td><span class="ph-id" onclick="goToCC('19')" style="cursor: pointer; color: #3b82f6;">PH1252</span></td>
          <td>logan.baker@example.com</td>
          <td>21/07/2025, 09:45</td>
          <td><input type="checkbox" class="action-checkbox" onchange="updateActionTaken(this, '18')"></td>
        </tr>
        <tr data-queue="Care Manager_On_Hold_7_Days" data-action-taken="false">
          <td>Lily Carter</td>
          <td>+353 001122334</td>
          <td><span class="ph-id" onclick="goToCC('20')" style="cursor: pointer; color: #3b82f6;">PH1253</span></td>
          <td>lily.carter@example.com</td>
          <td>21/07/2025, 09:30</td>
          <td><input type="checkbox" class="action-checkbox" onchange="updateActionTaken(this, '20')"></td>
        </tr>
      </tbody>
    </table>
  </div>

  <script>
    function goToCC(patientId) {
      window.location.href = `cc_screen?patientId=${patientId}`;
    }

    function updateActionTaken(checkbox, patientId) {
      const row = checkbox.closest('tr');
      row.setAttribute('data-action-taken', checkbox.checked ? 'true' : 'false');
      if (checkbox.checked) {
        row.style.display = 'none'; // Hide the row when the checkbox is checked
      }
      // Optionally, you could add code here to persist the action taken state to a backend
    }

    function searchPatient() {
      const input = document.getElementById("searchInput").value.toLowerCase();
      const rows = document.querySelectorAll("#patientTable tbody tr");

      rows.forEach(row => {
        const text = row.textContent.toLowerCase();
        row.style.display = text.includes(input) ? "" : "none";
      });
    }

    function filterQueue(selectedDropdown, queueName) {
      const rows = document.querySelectorAll("#patientTable tbody tr");
      const allDropdowns = document.querySelectorAll(".queue-dropdown select");

      allDropdowns.forEach(dropdown => {
        if (dropdown !== selectedDropdown) {
          dropdown.value = "";
        }
      });

      if (!queueName) {
        rows.forEach(row => {
          row.style.display = "";
        });
        return;
      }

      rows.forEach(row => {
        if (queueName === "Action_Taken" || queueName === "Action_Not_Taken") {
          const actionTaken = row.getAttribute("data-action-taken") === "true";
          row.style.display = (queueName === "Action_Taken" && actionTaken) || 
                            (queueName === "Action_Not_Taken" && !actionTaken) ? "" : "none";
        } else {
          const queue = row.getAttribute("data-queue");
          row.style.display = queue === queueName ? "" : "none";
        }
      });
    }

    document.addEventListener("DOMContentLoaded", () => {
      const rows = document.querySelectorAll("#patientTable tbody tr");
      rows.forEach(row => {
        row.style.display = "";
      });
    });
  </script>
</body>
</html>